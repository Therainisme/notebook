(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{385:function(s,a,t){s.exports=t.p+"assets/img/2021-07-31-22-54-55.4ce4037e.png"},435:function(s,a,t){"use strict";t.r(a);var n=t(45),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"arch-wsl2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#arch-wsl2"}},[s._v("#")]),s._v(" Arch-WSL2")]),s._v(" "),n("h2",{attrs:{id:"创建环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建环境"}},[s._v("#")]),s._v(" 创建环境")]),s._v(" "),n("h3",{attrs:{id:"预先事项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#预先事项"}},[s._v("#")]),s._v(" 预先事项")]),s._v(" "),n("p",[s._v("WSL 2 要求系统版本应该在 Windows 10, Version 2004, Build 19041 及以上。")]),s._v(" "),n("p",[s._v("以管理员身份打开 powershell，运行如下命令以启动需要的组件：")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("dism"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("online "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("enable-feature")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("featurename:Microsoft"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Windows"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Subsystem"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Linux "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("all "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("norestart\ndism"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("online "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("enable-feature")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("featurename:VirtualMachinePlatform "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("all "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("norestart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("然后重启。并且在 此处 下载并安装适用于 x64 计算机的最新 WSL2 Linux 内核更新包。")]),s._v(" "),n("p",[s._v("打开 powershell，运行如下命令以将 wsl 的默认版本设置为 WSL 2：")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("wsl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set-default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("version 2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"安装-windows-terminal"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-windows-terminal"}},[s._v("#")]),s._v(" 安装 Windows Terminal")]),s._v(" "),n("p",[s._v("在微软的应用商店安装就行了。")]),s._v(" "),n("h3",{attrs:{id:"安装-arch-wsl"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-arch-wsl"}},[s._v("#")]),s._v(" 安装 Arch WSL")]),s._v(" "),n("p",[s._v("在"),n("a",{attrs:{href:"https://github.com/yuk7/ArchWSL/releases/tag/21.7.16.0",target:"_blank",rel:"noopener noreferrer"}},[s._v("yuk7/ArchWSL - releases"),n("OutboundLink")],1),s._v("下载Arch.zip，解压，双击 Arch.exe 进行安装。")]),s._v(" "),n("p",[s._v("如果你解压到哪，那么Arch就会安装到哪。")]),s._v(" "),n("h3",{attrs:{id:"安装完后就可以通过windows-terminal启动arch了。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装完后就可以通过windows-terminal启动arch了。"}},[s._v("#")]),s._v(" 安装完后就可以通过Windows Terminal启动Arch了。")]),s._v(" "),n("p",[n("img",{attrs:{src:t(385),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"换源更新"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#换源更新"}},[s._v("#")]),s._v(" 换源更新")]),s._v(" "),n("p",[s._v("以下部分都以 root 用户身份运行命令。")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置密码")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置软件源")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Server = https://mirrors.neusoft.edu.cn/archlinux/$repo/os/$arch'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /etc/pacman.d/mirrorlist\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化 keyring")]),s._v("\npacman-key --init\npacman-key --populate\npacman -Syu "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"启用-multilib-库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启用-multilib-库"}},[s._v("#")]),s._v(" 启用 multilib 库")]),s._v(" "),n("p",[s._v("Arch Linux 有些软件是 32 位的，我们需要开启 multilib 才可以安装。")]),s._v(" "),n("p",[n("code",[s._v("nano /etc/pacman.conf")]),s._v("，取消这几行的注释：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[n("span",{pre:!0,attrs:{class:"token header"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("multilib")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("Include")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/etc/pacman.d/mirrorlist")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("并且取消该文件中"),n("code",[s._v("#Color")]),s._v("这一行的注释，以启用彩色输出。")]),s._v(" "),n("h3",{attrs:{id:"添加-archlinuxcn-源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加-archlinuxcn-源"}},[s._v("#")]),s._v(" 添加 archlinuxcn 源")]),s._v(" "),n("p",[s._v("Arch Linux 中文社区仓库 是由 Arch Linux 中文社区驱动的非官方用户仓库。包含中文用户常用软件、工具、字体/美化包等。")]),s._v(" "),n("p",[n("code",[s._v("nano /etc/pacman.conf")]),s._v("，在文件末尾加上：")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[n("span",{pre:!0,attrs:{class:"token header"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("archlinuxcn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("Server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("https://mirrors.aliyun.com/archlinuxcn/$arch")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("然后")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("pacman -Syy\npacman -S archlinuxcn-keyring\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"创建用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建用户"}},[s._v("#")]),s._v(" 创建用户")]),s._v(" "),n("p",[s._v("注：此处的 yourname 是你要创建的用户名")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建用户。-m 为用户创建家目录；-G wheel 将用户添加到 wheel 用户组")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -m -G wheel yourname\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置密码")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" yourname\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("将以下两行行首的"),n("code",[s._v("#")]),s._v("去掉。")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# %wheel ALL=(ALL) ALL")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# %wheel ALL=(ALL) NOPASSWD: ALL")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("在 powershell 中进入到 Arch.exe 所在文件夹，设置 WSL 默认登陆用户和默认的 WSL：")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\Arch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe config "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("default"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("user yourname\nwsl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s Arch\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("重新打开，就是在 yourname 用户了。")]),s._v(" "),n("h2",{attrs:{id:"开始安装必用软件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开始安装必用软件"}},[s._v("#")]),s._v(" 开始安装必用软件")]),s._v(" "),n("h3",{attrs:{id:"安装-zsh"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-zsh"}},[s._v("#")]),s._v(" 安装 zsh")]),s._v(" "),n("p",[s._v("给 windows 安装以下字体，并且改变 windows terminal 的字体设置（百度吧，推荐 JetBrians Mono NF相关的）")]),s._v(" "),n("p",[s._v("安装 zsh 并且将其设置为默认 shell")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pacman -S --needed "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("zsh")]),s._v("\nchsh -s /bin/zsh "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改变当前用户的默认shell")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" ~/.zshrc "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建zsh默认配置文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在yourname用户创建软链接，让root用户也使用yourname用户的.zshrc")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我觉得这样比较方便")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s ~/.zshrc /root/.zshrc\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"使用-proxychains-代理终端程序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-proxychains-代理终端程序"}},[s._v("#")]),s._v(" 使用 proxychains 代理终端程序")]),s._v(" "),n("p",[s._v("可以使用 windows 的 qv2ray 代理软件来代理 wsl 中的程序！先安装 proxychains：")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("sudo pacman "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("S "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("needed proxychains"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ng\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("首先，"),n("code",[s._v("sudo nano /etc/proxychains.conf")]),s._v("，将"),n("code",[s._v("proxy_dns")]),s._v("这一行注释。（这样能够让 proxychains 代理 yay）")]),s._v(" "),n("p",[s._v("如果用的是 WSL 2，由于目前 WSL 2 和 windows 的 ip 不同，我们需要先"),n("code",[s._v("cp -f /etc/proxychains.conf ~/.proxychains.conf")]),s._v("，然后在"),n("code",[s._v("~/.zshrc")]),s._v("中添加以下内容：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取windows的ip")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WIN_IP")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/resolv.conf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" nameserver "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除 ~/.proxychains.conf 中 [ProxyList] 所在行到文件末尾的全部内容")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/\\[ProxyList\\]/,$d'")]),s._v(" ~/.proxychains.conf\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 往文件末尾添加socks5设置，这个 7890 是我的 qv②ray 的 socks5 端口号，改成你自己的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[ProxyList]\\nsocks5 '")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${WIN_IP}")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' 7890'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.proxychains.conf\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置别名；使用 ~/.proxychains.conf 作为proxychains的配置文件；让proxychains quiet（不输出一大串东西）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pc")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'proxychains4 -q -f ~/.proxychains.conf'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用来手动开关代理，建议走 http 协议，因为 wget 不支持 socks5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("my_proxy")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${WIN_IP}")]),s._v(":7891\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" p-on"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export all_proxy='")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${my_proxy}")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' http_proxy='")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${my_proxy}")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' https_proxy='")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${my_proxy}")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" p-off"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'unset all_proxy http_proxy https_proxy'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("然后，在yournane用户中：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s ~/.proxychains.conf /root/.proxychains.conf\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.zshrc\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("接下来的的命令如果想走代理，只需要加上前缀"),n("code",[s._v("pc")]),s._v("即可。")]),s._v(" "),n("h3",{attrs:{id:"安装yay"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装yay"}},[s._v("#")]),s._v(" 安装yay")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pacman -S --needed base-devel\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("出现"),n("code",[s._v(":: fakeroot is in IgnorePkg/IgnoreGroup. Install anyway? [Y/n]")]),s._v("，选 n，接下来一直回车即可。")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pacman -S --needed yay\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yay 换源")]),s._v("\nyay --aururl "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://aur.tuna.tsinghua.edu.cn"')]),s._v(" --save\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"安装-antigen"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-antigen"}},[s._v("#")]),s._v(" 安装 antigen")]),s._v(" "),n("p",[s._v("使用 antigen 管理 zsh 的插件：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pcaman -S antigen\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("往"),n("code",[s._v("~/.zshrc")]),s._v("中添加如下内容，以启用历史命令、按键绑定、命令补全、语法高亮、agnoster 主题")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化 antigen")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /usr/share/zsh/share/antigen.zsh\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Load the oh-my-zsh's library")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oh-my-zsh 会启用历史命令、按键绑定等功能")]),s._v("\nantigen use oh-my-zsh\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启用一些 bundle")]),s._v("\nantigen bundle zsh-users/zsh-syntax-highlighting\nantigen bundle zsh-users/zsh-autosuggestions\nantigen bundle zsh-users/zsh-completions\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Load the theme")]),s._v("\nantigen theme agnoster\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Tell antigen that you're done")]),s._v("\nantigen apply\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("然后"),n("code",[s._v("pc zsh")]),s._v("，antigen 就会给你安装插件")]),s._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[s._v("关于zsh-autosuggestions插件导致粘贴内容很慢的问题")]),s._v(" "),n("p",[s._v("在"),n("code",[s._v(".zshrc")]),s._v("文件中配置以下内容:")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# This speeds up pasting w/ autosuggest")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://github.com/zsh-users/zsh-autosuggestions/issues/238")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("pasteinit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OLD_SELF_INSERT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${${(s."),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(".)widgets"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("self-insert"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2,3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  zle -N self-insert url-quote-magic "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# I wonder if you'd need `.url-quote-magic`?")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("pastefinish")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  zle -N self-insert "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$OLD_SELF_INSERT")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nzstyle :bracketed-paste-magic paste-init pasteinit\nzstyle :bracketed-paste-magic paste-finish pastefinish\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);