# 2021GPLT团体天梯赛

如果是简单题的话，会记录一些stl的写法，我觉得在这个比赛里面，会用stl是非常巨大的优势。

## L1-3 强迫症 (10 分)

将“年年月月”或“年年年年月月”格式的字符串格式化为“年年年年-月月”

::: tip 提示
`string`类型有一个`substr`方法，用于截取字串

`stoi`用于将字符串转化为数字
:::

```cpp
#include <bits/stdc++.h>

using namespace std;

int main (){
    string s;
    cin >> s;
    if (s.size() == 6) {
        cout << s.substr(0, 4) << "-" << s.substr(4, 6);
    } else {
        int year = stoi(s.substr(0, 2));
        if (year < 22) year += 2000;
        else year += 1900;
        cout << year << "-" << s.substr(2, 4);
    }

    return 0;
}
```

## L1-6 吉老师的回归 (15 分)

给定 $n$ 个字符串，输出第 $m+1$ 个不含 "qiandao" 或 "easy" 子串的字符串，若满足条件的字符串不超过 $m$ 个则输出 "Wo AK le"。

::: tip 提示
`getline(cin, str)` 函数用于读入一行字符串

`str.find("target") == string::npos` 代表字符串变量 `str` 中，没有字串为 `target` 的字符串。`string::npos` 是一个静态常量
:::

我是真的很好奇，为什么比赛的时候有4分拿不到，迷迷糊糊的

```cpp
#include <bits/stdc++.h>

using namespace std;

int n, m;
vector<string> v;

int main (){
    cin >> n >> m;
    string s;
    getline(cin, s); // 捕获没用的\n
    for (int i = 1; i <= n; ++ i) {
        string str;
        getline(cin, str);
        if (str.find("qiandao") == string::npos && str.find("easy") == string::npos) {
            // 说明它是一道难题
            v.push_back(str);
        }
    }
    
    // 如果难题做完了
    if (v.size() <= m) cout << "Wo AK le";
    // 输出正在做的题
    else cout << v[m];
    
    return 0;
}
```

## L1-7 天梯赛的善良 (20 分)

给定 $n$ 个数，求最大的数及其个数，以及最小的数及其个数。

::: tip 提示
运用`map`容器

前向迭代器：`m.begin()`，指向头部的迭代器

反向迭代器：`m.rbegin()`，指向尾部的迭代器
:::

```cpp
#include<bits/stdc++.h>

using namespace std;

const int N = 20010;

map<int, int> m;

int n;
int max_index, min_index;

int main (){
    cin >> n;
    for (int i = 1; i <= n; ++ i) {
        int x;
        cin >> x;
        m[x] ++;
    }
    
    cout << m.begin()->first << " " <<m.begin()->second << endl;
    cout << m.rbegin()->first << " " << m.rbegin()->second <<endl;
    
    return 0;
}
```

## L1-8 乘法口诀数列 (20 分)

给定的两个 $1$ 位数字 $a_1$ 和 $a_2$，生成一个数列 $\{a_n\}$，规则为从 $a_1$ 开始顺次进行，每次将当前数字与后面一个数字相乘，将结果贴在数列末尾。如果结果不是 $1$ 位数，则其每一位都应成为数列的一项。

::: tip 提示
`string str = to_string(x)`用于将变量`x`变成字符串的形式
:::

```cpp
#include <bits/stdc++.h>

using namespace std;

vector<int> v;

int a, b, n;
int ind = 1;

int main (){
    cin >> a >> b >> n;
    v.push_back(a);
    v.push_back(b);
    while (v.size() < n + 1) {
        int x = v[ind], y = v[ind - 1];
        int z = x * y;
        string s = to_string(z);
        for (char c : s) {
            v.push_back(c - '0');
        }
        ind ++;
    }
    for (int i = 0; i < n; ++ i) cout << v[i] << ( i == n - 1 ? "" : " ");
    
    return 0;
}
```

## L2-1 包装机 (25 分)

有 $n$ 条轨道，各轨道初始有 $m$ 件物品，还有一个最大容量为 $s$ 的栈。给定若干操作，若操作号为 $0$，表示从栈顶取出一件物品放在流水线上；否则将对应编号轨道的首个物品推入栈中，若栈满，则先从栈顶取出一件物品放在流水线上，再将轨道上的物品推入栈中。若每次操作对应轨道或栈为空，则忽略该次操作。

::: tip 提示
c++中的`string`可以用类似栈的操作。例如`back()` `push_back()` 

`string` 翻转 `reverse(str.begin(), str.end())`
:::

```cpp
#include <bits/stdc++.h>

using namespace std;

int n, m, s;
string able[110];
string line, res;

int main (){
    cin >> n >> m >> s;
    for (int i = 1; i <= n; ++ i) {
        cin >> able[i];
        // 翻转之后，方便从尾部取出元素
        reverse(able[i].begin(), able[i].end());
    }
    
    while (true) {
        int o;
        cin >> o;
        if (o == -1) break;
        // 抓
        if (o == 0) {
            // 流水线空了
            if (line.size() == 0) continue;
            res.push_back(line.back());
            line.pop_back();
        } else {
            // 轨道空了
            if (able[o].size() == 0) continue;
            // 流水线满了，强行取出
            if (line.size() == s) {
                res.push_back(line.back());
                line.pop_back();
            }
            line.push_back(able[o].back());
            able[o].pop_back();
        }
    }
    cout << res;
    
    return 0;
}
```