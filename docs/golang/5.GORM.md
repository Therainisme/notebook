# GORM

> 先记到这，感觉，有点说不出来的诡异，对于没有了解过 GORM 的人来说，可读性有点差

gorm 框架只是简单封装了数据库的驱动包，在安装时仍需要下载原始的驱动包

```shell
go get -u github.com/jinzhu/gorm
go get -u github.com/go-sql-driver/mysql
```

默认情况下，GORM 使用 `ID` 作为主键，使用结构体名的 `蛇形复数` 作为表名，字段名的 `蛇形` 作为列名，并使用 `CreatedAt`、`UpdatedAt` 字段追踪创建、更新时间。

结构体，蛇形复数：`type User struct` -> `users`
结构体字段，蛇形：`AuthorName` -> `author_name`

## 字段相关
GORM 定义了一个 `gorm.Model` 结构体，其包括字段 `ID`、`CreatedAt`、`UpdatedAt`、`DeletedAt`。可以将它嵌入到您的结构体中，以包含这几个字段。

```go
type Model struct {
	ID        uint `gorm:"primaryKey"`
	CreatedAt time.Time
	UpdatedAt time.Time
	DeletedAt gorm.DeletedAt `gorm:"index"`
}
```

下面这两个例子是等效的

```go
type User struct {
	gorm.Model  // 嵌入 gorm.Model
	Name string // User 原有的
}
```

```go
type User struct {
	ID        uint `gorm:"primaryKey"`
	CreatedAt time.Time
	UpdatedAt time.Time
	DeletedAt gorm.DeletedAt `gorm:"index"`
	Name      string // User 原有的
}
```

关于更多的字段标签可以查看 gorm 官方网站：[https://gorm.io/zh_CN/docs/models.html#字段标签](https://gorm.io/zh_CN/docs/models.html#字段标签)