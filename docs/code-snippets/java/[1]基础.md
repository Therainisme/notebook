# 基础

## 正确使用equals

```java
"SnailClimb".equals(str);// false 
Objects.equals(null,"SnailClimb");// false
```

## BigDecimal 大浮点数

我们在使用`BigDecimal`时，为了防止精度丢失，推荐使用它的`BigDecimal(String)`构造方法来创建对象

### 浮点数等值

```java
BigDecimal a = new BigDecimal("1.0");
BigDecimal b = new BigDecimal("0.9");
BigDecimal c = new BigDecimal("0.8");

BigDecimal x = a.subtract(b); 
BigDecimal y = b.subtract(c); 

System.out.println(x); /* 0.1 */
System.out.println(y); /* 0.1 */
System.out.println(Objects.equals(x, y)); /* true */
```

### 浮点数大小比较

`a.compareTo(b)` : 返回`-1`表示`a`小于`b`，`0`表示`a`等于`b`，`1`表示`a`大于`b`

```java
BigDecimal a = new BigDecimal("1.0");
BigDecimal b = new BigDecimal("0.9");
System.out.println(a.compareTo(b));// 1
```

### 保留几位小数

```java
BigDecimal m = new BigDecimal("1.255433");
BigDecimal n = m.setScale(3,BigDecimal.ROUND_HALF_DOWN);
System.out.println(n);// 1.255
```

## List 集合

### 将数组转化为集合

正常方法
```java
List list = new ArrayList<>(Arrays.asList("a", "b", "c"))
```
使用Java8中的Stream
```java
Integer [] myArray = { 1, 2, 3 };
List myList = Arrays.stream(myArray).collect(Collectors.toList());
//基本类型也可以实现转换（依赖boxed的装箱操作）
int [] myArray2 = { 1, 2, 3 };
List myList = Arrays.stream(myArray2).boxed().collect(Collectors.toList());
```
使用 Java9 的 `List.of()`方法
```java
Integer[] array = {1, 2, 3};
List<Integer> list = List.of(array);
System.out.println(list); /* [1, 2, 3] */
/* 不支持基本数据类型 */
```

#### 大坑之Arrays.asList()

`Arrays.asList()`将数组转换为集合后,底层其实还是数组，**一定要使用包装类型！！**，而且就算转换成了集合，使用集合的修改方法:`add()`、`remove()`、`clear()`会抛出异常。

`Arrays.asList()` 方法返回的并不是 `java.util.ArrayList` ，而是 `java.util.Arrays` 的一个内部类,这个内部类并没有实现集合的修改方法或者说并没有重写这些方法。

```java
String[] myArray = {"Apple", "Banana", "Orange"};
List<String> myList = Arrays.asList(myArray);
//上面两个语句等价于下面一条语句
List<String> myList = Arrays.asList("Apple","Banana", "Orange");
```

### 翻转数组 & Collection.toArray()

需要注意的是，如果`toArray`方法中没有传递任何参数的话返回的是`Object`类型数组

```java
String [] s = new String[]{
    "dog", "lazy", "a", "over", "jumps", "fox", "brown", "quick", "A"
};
List<String> list = Arrays.asList(s);
Collections.reverse(list); // 翻转数组
s = list.toArray(new String[0]);//没有指定类型的话会报错
```