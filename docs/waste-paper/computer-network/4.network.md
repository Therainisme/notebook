# 4 网络层

## 4.1 网络层概述

网络层的主要任务是实现网络互连，进而实现数据包在各网络之间的传输。

## 4.2 网络层提供的两种服务

![](./image/2021-11-30-12-04-46.png)

![](./image/2021-11-30-12-06-05.png)

## 4.3 IPv4地址

### 4.3.1 IPv4地址概述

IPv4地址就是给因特网（Internet）上的每一台主机（或路由器）的每一个接口分配一个在全世界范围内是唯一的 32 比特的标识符。

![](./image/2021-11-30-12-09-57.png)

### 4.3.2 分类编制的IPv4地址

![](./image/2021-11-30-12-18-11.png)

> 分类编制的IPv4地址——A类地址

![](./image/2021-11-30-12-26-42.png)

> 分类编制的IPv4地址——B类地址

![](./image/2021-11-30-13-23-40.png)

> 分类编制的IPv4地址——C类地址

![](./image/2021-11-30-13-26-46.png)

> 练习

![](./image/2021-11-30-13-29-08.png)

> 一般不使用的特殊IP地址

![](./image/2021-11-30-13-39-44.png)

> 节约分配X类地址

![](./image/2021-11-30-13-42-52.png)

### 4.3.3 划分子网的IPv4地址

![](./image/2021-11-30-13-48-33.png)

> 子网划分细节

![](./image/2021-11-30-13-51-01.png)

![](./image/2021-11-30-13-54-23.png)

![](./image/2021-11-30-13-58-57.png)

### 4.3.4 无分类编制的IPv4地址

![](./image/2021-11-30-14-04-27.png)

![](./image/2021-11-30-14-57-51.png)

![](./image/2021-11-30-15-00-49.png)

### 4.3.5 IPv4地址的应用规划

![](./image/2021-11-30-15-08-22.png)

![](./image/2021-11-30-15-12-50.png)

![](./image/2021-11-30-15-15-00.png)

![](./image/2021-11-30-15-18-20.png)

## 4.4 IP数据报的发送和转发过程

![](./image/2021-11-30-15-23-22.png)

![](./image/2021-11-30-15-28-53.png)

![](./image/2021-11-30-15-31-04.png)

## 4.5 静态路由配置及其可能产生的路由环路问题

![](./image/2021-11-30-19-42-46.png)

![](./image/2021-11-30-19-48-13.png)

![](./image/2021-11-30-19-50-57.png)

![](./image/2021-11-30-19-55-32.png)

![](./image/2021-11-30-19-57-23.png)

## 4.6 路由选择

### 4.6.1 路由选择协议概述

![](./image/2021-11-30-20-34-47.png)

![](./image/2021-11-30-20-35-34.png)

![](./image/2021-11-30-20-49-05.png)

![](./image/2021-11-30-20-50-25.png)

![](./image/2021-11-30-20-55-14.png)

### 4.6.2 路由信息协议RIP的基本工作原理

![](./image/2021-11-30-21-07-06.png)

![](./image/2021-11-30-21-09-01.png)

![](./image/2021-11-30-21-10-47.png)

![](./image/2021-11-30-21-14-30.png)

![](./image/2021-11-30-21-28-43.png)


### 4.6.3 开放最短路径优先OSPF的基本工作原理

![](./image/2021-11-30-21-33-11.png)

![](./image/2021-11-30-21-34-24.png)

![](./image/2021-11-30-21-36-32.png)

![](./image/2021-11-30-21-38-13.png)

![](./image/2021-11-30-21-39-54.png)

![](./image/2021-11-30-21-41-28.png)

![](./image/2021-11-30-21-42-52.png)

![](./image/2021-11-30-21-44-32.png)

![](./image/2021-11-30-21-46-33.png)

![](./image/2021-11-30-21-49-18.png)

### 4.6.4 边界网关协议BGP协议基本工作原理

![](./image/2021-11-30-22-17-58.png)

![](./image/2021-11-30-22-25-14.png)

![](./image/2021-11-30-22-25-43.png)

## 4.7 IPv4数据包的首部格式

![](./image/2021-11-30-22-31-14.png)

![](./image/2021-11-30-22-30-42.png)

![](./image/2021-11-30-22-33-39.png)

![](./image/2021-11-30-22-38-38.png)

![](./image/2021-11-30-22-40-11.png)

![](./image/2021-11-30-22-42-10.png)

![](./image/2021-11-30-22-46-38.png)

![](./image/2021-11-30-22-48-12.png)

![](./image/2021-11-30-22-50-54.png)

![](./image/2021-11-30-22-52-23.png)

![](./image/2021-11-30-22-53-13.png)

![](./image/2021-11-30-22-56-37.png)

![](./image/2021-11-30-23-01-26.png)

![](./image/2021-11-30-23-02-58.png)

![](./image/2021-11-30-23-04-22.png)